<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Vokabeltrainer</title>
    <style>
        :root {
            --primary-green: #2e7d32; /* Dunkles Gr√ºn */
            --accent-green: #4caf50;  /* Standard Gr√ºn */
            --light-green: #e8f5e9;   /* Sehr helles Gr√ºn f√ºr Hintergrund */
            --text-color: #333;
            --card-bg: #ffffff;
            --shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-green);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .app-container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--primary-green);
            margin: 0;
            font-size: 1.8rem;
        }

        .subtitle {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* --- 3D Karte --- */
        .card-container {
            background-color: transparent;
            width: 100%;
            height: 300px;
            perspective: 1000px; /* Tiefe f√ºr 3D Effekt */
            cursor: pointer;
            margin-bottom: 20px;
        }

        .card {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: var(--shadow);
            border-radius: 15px;
        }

        /* Klasse f√ºr den Flip-Zustand */
        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            padding: 20px;
            box-sizing: border-box;
            background-color: var(--card-bg);
            border: 2px solid var(--accent-green);
        }

        /* Vorderseite */
        .card-face.front {
            color: var(--text-color);
        }

        /* R√ºckseite (gedreht) */
        .card-face.back {
            background-color: var(--accent-green);
            color: white;
            transform: rotateY(180deg);
        }

        .card-text {
            font-size: 2rem;
            font-weight: bold;
            line-height: 1.4;
            max-width: 100%;
            word-wrap: break-word;
        }

        .hint {
            margin-top: 15px;
            font-size: 0.8rem;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- Steuerung --- */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            width: 100%;
            margin-bottom: 15px;
        }

        button {
            background-color: var(--primary-green);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        button:hover {
            background-color: #1b5e20;
        }

        button:active {
            transform: scale(0.98);
        }

        button.secondary {
            background-color: #fff;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        button.secondary:hover {
            background-color: #f1f8e9;
        }

        /* Haupt-Navigation gr√∂√üer */
        .nav-btn {
            flex-grow: 1;
            justify-content: center;
            max-width: 150px;
        }

        /* Fortschrittsanzeige */
        .progress-container {
            text-align: center;
            font-size: 1.1rem;
            color: var(--primary-green);
            font-weight: bold;
            background-color: white;
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        /* Responsive Anpassungen */
        @media (max-width: 400px) {
            .card-container {
                height: 250px;
            }
            .card-text {
                font-size: 1.5rem;
            }
            button {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <header>
            <h1>Russisch Vokabeln</h1>
            <div class="subtitle">Bewegungsverben & Richtungsangaben</div>
        </header>

        <!-- Karte -->
        <div class="card-container" id="cardContainer" tabindex="0">
            <div class="card" id="card">
                <div class="card-face front">
                    <div class="hint">Russisch</div>
                    <div class="card-text" id="frontText">...</div>
                </div>
                <div class="card-face back">
                    <div class="hint">Deutsch</div>
                    <div class="card-text" id="backText">...</div>
                </div>
            </div>
        </div>

        <!-- Fortschritt -->
        <div class="progress-container">
            Karte <span id="currentIndex">1</span> / <span id="totalCards">0</span>
        </div>

        <br>

        <!-- Steuerung -->
        <div class="controls">
            <button class="nav-btn" id="prevBtn">‚Üê Vorherige</button>
            <button class="nav-btn" id="nextBtn">N√§chste ‚Üí</button>
        </div>
        
        <div class="controls">
            <button class="secondary" id="shuffleBtn" title="Karten mischen">
                <span>üîÄ Mischen</span>
            </button>
            <button class="secondary" id="resetBtn" title="Zum Anfang">
                <span>‚èÆ Start</span>
            </button>
        </div>
        
        <div style="margin-top: 15px; font-size: 0.8rem; color: #777; text-align: center;">
            <p>Tastatur: <strong>Leertaste/Enter</strong> (Umdrehen), <strong>Pfeile</strong> (Navigieren), <strong>Pos1</strong> (Start)</p>
        </div>
    </div>

    <script>
        // --- Daten ---
        const rawData = [
            "1.	–∏–¥—Ç–∏ÃÅ / –ø–æ–π—Ç–∏ÃÅ ‚Äì gehen (zu Fu√ü, zielgerichtet)",
            "2.	—Ö–æ–¥–∏ÃÅ—Ç—å / —Å—Ö–æ–¥–∏ÃÅ—Ç—å ‚Äì gehen (zu Fu√ü, allgemein/hin und zur√ºck)",
            "3.	–µÃÅ—Ö–∞—Ç—å / –ø–æ–µÃÅ—Ö–∞—Ç—å ‚Äì fahren (zielgerichtet)",
            "4.	–µÃÅ–∑–¥–∏—Ç—å / —Å—ä–µÃÅ–∑–¥–∏—Ç—å ‚Äì fahren (allgemein/hin und zur√ºck)",
            "5.	—Å—Ç–∞ÃÅ–≤–∏—Ç—å / –ø–æ—Å—Ç–∞ÃÅ–≤–∏—Ç—å ‚Äì stellen (senkrecht)",
            "6.	–∫–ª–∞—Å—Ç—å / –ø–æ–ª–æ–∂–∏ÃÅ—Ç—å ‚Äì legen (waagerecht)",
            "7.	–≤–µÃÅ—à–∞—Ç—å / –ø–æ–≤–µÃÅ—Å–∏—Ç—å ‚Äì h√§ngen (aktiv)",
            "8.	–∂–∏ÃÅ—Ç—å / –ø—Ä–æ–∂–∏ÃÅ—Ç—å ‚Äì wohnen / leben",
            "9.	—Å—Ç–æ—èÃÅ—Ç—å / –ø–æ—Å—Ç–æ—èÃÅ—Ç—å ‚Äì stehen",
            "10.	–ª–µ–∂–∞ÃÅ—Ç—å / –ø–æ–ª–µ–∂–∞ÃÅ—Ç—å ‚Äì liegen",
            "11.	—Ä–∞–±–æÃÅ—Ç–∞—Ç—å / –ø–æ—Ä–∞–±–æÃÅ—Ç–∞—Ç—å ‚Äì arbeiten",
            "12.	–æ—Ç–¥—ã—Ö–∞ÃÅ—Ç—å / –æ—Ç–¥–æ—Ö–Ω—ÉÃÅ—Ç—å ‚Äì sich erholen / Urlaub machen",
            "13.	–∫—É–¥–∞ÃÅ ‚Äì wohin",
            "14.	–≥–¥–µ ‚Äì wo",
            "15.	–≤ ‚Äì in / nach (Pr√§position)",
            "16.	–Ω–∞ ‚Äì auf / zu / in (Pr√§position)",
            "17.	—à–∫–æÃÅ–ª–∞ ‚Äì Schule",
            "18.	–º—É–∑–µÃÅ–π ‚Äì Museum",
            "19.	–∫–ª—É–± ‚Äì Klub",
            "20.	—Å–∞–Ω–∞—Ç–æÃÅ—Ä–∏–π ‚Äì Sanatorium",
            "21.	—é–≥ ‚Äì S√ºden",
            "22.	–ë–∞–π–∫–∞ÃÅ–ª ‚Äì Baikalsee",
            "23.	–ö—Ä—ã–º ‚Äì Krim",
            "24.	–≤—ãÃÅ—Å—Ç–∞–≤–∫–∞ ‚Äì Ausstellung",
            "25.	–¥–µ—Ä–µÃÅ–≤–Ω—è ‚Äì Dorf",
            "26.	–∞—É–¥–∏—Ç–æÃÅ—Ä–∏—è ‚Äì H√∂rsaal",
            "27.	–∫—Ä–æ–≤–∞ÃÅ—Ç—å ‚Äì Bett",
            "28.	–º–æÃÅ—Ä–µ ‚Äì Meer",
            "29.	–æ–∫–Ω–æÃÅ ‚Äì Fenster",
            "30.	–∑–¥–∞ÃÅ–Ω–∏–µ ‚Äì Geb√§ude",
            "31.	–∏–Ω—Ç–µ—Ä–≤—å—éÃÅ ‚Äì Interview",
            "32.	–†–æ—Å—Å–∏ÃÅ—è ‚Äì Russland",
            "33.	–§—Ä–∞ÃÅ–Ω—Ü–∏—è ‚Äì Frankreich",
            "34.	–ï–≤—Ä–æÃÅ–ø–∞ ‚Äì Europa",
            "35.	–í—å–µ—Ç–Ω–∞ÃÅ–º ‚Äì Vietnam",
            "36.	–ø–∞–ª—å—Ç–æÃÅ ‚Äì Mantel",
            "37.	—à–∫–∞—Ñ ‚Äì Schrank",
            "38.	–∫—Ä—ÉÃÅ–∂–∫–∞ ‚Äì Becher / Tasse",
            "39.	—Å—Ç–æ–ª ‚Äì Tisch",
            "40.	–ø–∞—Ä–∫ ‚Äì Park",
            "41.	—Ü–µÃÅ–Ω—Ç—Ä ‚Äì Zentrum",
            "42.	–∏–Ω—Å—Ç–∏—Ç—ÉÃÅ—Ç ‚Äì Institut",
            "43.	—Ä–∞–±–æÃÅ—Ç–∞ ‚Äì Arbeit",
            "44.	–æ–±—â–µ–∂–∏ÃÅ—Ç–∏–µ ‚Äì Wohnheim",
            "45.	–±–∏–±–ª–∏–æ—Ç–µÃÅ–∫–∞ ‚Äì Bibliothek",
            "46.	—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µÃÅ—Ç ‚Äì Universit√§t",
            "47.	–ª–µÃÅ–∫—Ü–∏—è ‚Äì Vorlesung",
            "48.	–ø–æÃÅ—á—Ç–∞ ‚Äì Post",
            "49.	–∑–∞–≤–æÃÅ–¥ ‚Äì Werk / Fabrik",
            "50.	—Å–æ–±—Ä–∞ÃÅ–Ω–∏–µ ‚Äì Versammlung",
            "51.	–º–∞–≥–∞–∑–∏ÃÅ–Ω ‚Äì Gesch√§ft / Laden",
            "52.	—Ç–µ–∞ÃÅ—Ç—Ä ‚Äì Theater",
            "53.	–≤–æ–∫–∑–∞ÃÅ–ª ‚Äì Bahnhof",
            "54.	–∫–æ–Ω—Ü–µÃÅ—Ä—Ç ‚Äì Konzert",
            "55.	—ÉÃÅ–ª–∏—Ü–∞ ‚Äì Stra√üe",
            "56.	–ª–µ—Å ‚Äì Wald",
            "57.	–ø–ª–æÃÅ—â–∞–¥—å ‚Äì Platz",
            "58.	—Ä–µ—Å—Ç–æ—Ä–∞ÃÅ–Ω ‚Äì Restaurant",
            "59.	—Ä—ãÃÅ–Ω–æ–∫ ‚Äì Markt",
            "60.	–∫–∏–Ω–æÃÅ ‚Äì Kino",
            "61.	—Å—Ç–∞–¥–∏–æÃÅ–Ω ‚Äì Stadion",
            "62.	–æÃÅ—Ñ–∏—Å ‚Äì B√ºro",
            "63.	—Å–ø–æ—Ä—Ç–∑–∞ÃÅ–ª ‚Äì Fitnessstudio / Sporthalle",
            "64.	–¥–æ–º ‚Äì Haus",
            "65.	–¥–æ–º–æÃÅ–π ‚Äì nach Hause",
            "66.	–¥–æÃÅ–º–∞ ‚Äì zu Hause",
            "67.	—ÉÃÅ—Ç—Ä–æ–º ‚Äì morgens",
            "68.	–¥–Ω—ë–º ‚Äì tags√ºber",
            "69.	–≤–µÃÅ—á–µ—Ä–æ–º ‚Äì abends",
            "70.	–ª–µÃÅ—Ç–æ–º ‚Äì im Sommer",
            "71.	—Å–µ–≥–æÃÅ–¥–Ω—è ‚Äì heute",
            "72.	–∑–∞ÃÅ–≤—Ç—Ä–∞ ‚Äì morgen",
            "73.	—Å–∫–æÃÅ—Ä–æ ‚Äì bald"
        ];

        // Daten verarbeiten (Nummerierung entfernen und splitten)
        let cards = rawData.map(line => {
            // Entfernt "1. ", "2. " usw.
            let cleanLine = line.replace(/^\d+\.\s+/, "");
            // Trennt bei " ‚Äì " oder " - "
            let parts = cleanLine.split(/ ‚Äì | - /); 
            return {
                front: parts[0].trim(),
                back: parts[1] ? parts[1].trim() : ""
            };
        });

        // --- Status ---
        let currentIndex = 0;
        let isFlipped = false;
        
        // --- DOM Elemente ---
        const cardElement = document.getElementById('card');
        const cardContainer = document.getElementById('cardContainer');
        const frontText = document.getElementById('frontText');
        const backText = document.getElementById('backText');
        const currentIndexEl = document.getElementById('currentIndex');
        const totalCardsEl = document.getElementById('totalCards');

        // Buttons
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const resetBtn = document.getElementById('resetBtn');

        // --- Funktionen ---

        function init() {
            totalCardsEl.textContent = cards.length;
            renderCard();
        }

        function renderCard() {
            const currentCard = cards[currentIndex];
            
            // Text setzen
            frontText.textContent = currentCard.front;
            backText.textContent = currentCard.back;
            
            // Fortschritt
            currentIndexEl.textContent = currentIndex + 1;

            // Flip zur√ºcksetzen, falls Karte gewechselt wurde
            if (isFlipped) {
                isFlipped = false;
                cardElement.classList.remove('is-flipped');
            }

            // Textgr√∂√üe anpassen (falls Text zu lang ist)
            adjustFontSize(frontText);
            adjustFontSize(backText);
        }

        function flipCard() {
            isFlipped = !isFlipped;
            cardElement.classList.toggle('is-flipped');
        }

        function nextCard() {
            if (currentIndex < cards.length - 1) {
                currentIndex++;
                renderCard();
            } else {
                // Optional: Loop zum Anfang oder visueller Hinweis
                // Hier: Loop zum Anfang f√ºr besseren Flow
                currentIndex = 0;
                renderCard();
            }
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
                renderCard();
            } else {
                // Loop zum Ende
                currentIndex = cards.length - 1;
                renderCard();
            }
        }

        // Fisher-Yates Shuffle Algorithmus
        function shuffleDeck() {
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            currentIndex = 0;
            renderCard();
            // Kleines visuelles Feedback (Button blinken lassen o.√§. - hier einfach Fokus entfernen)
            shuffleBtn.blur();
        }

        function resetToStart() {
            // Sortiert das Deck evtl. nicht zur√ºck (User wollte "Anfang des *aktuellen* Stapels"),
            // aber wir setzen den Index zur√ºck.
            currentIndex = 0;
            renderCard();
            resetBtn.blur();
        }

        // Dynamische Textgr√∂√üe um √úberlaufen zu verhindern
        function adjustFontSize(element) {
            element.style.fontSize = "2rem"; // Reset auf Standard
            let size = 2.0;
            // Solange der Inhalt gr√∂√üer ist als der Container, Schrift verkleinern
            // (Parent padding beachten: 300px H√∂he - 40px Padding ~ 260px verf√ºgbar)
            while (element.scrollHeight > element.parentElement.clientHeight - 40 && size > 0.8) {
                size -= 0.1;
                element.style.fontSize = size + "rem";
            }
        }

        // --- Event Listeners ---

        // Klick auf Karte / Container
        cardContainer.addEventListener('click', flipCard);

        // Buttons
        nextBtn.addEventListener('click', (e) => {
            e.stopPropagation(); // Verhindert Flip beim Button-Klick
            nextCard();
        });

        prevBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            prevCard();
        });

        shuffleBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            if(confirm("Karten wirklich mischen?")) {
                shuffleDeck();
            }
        });

        resetBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            resetToStart();
        });

        // Tastatursteuerung
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case "ArrowRight":
                    nextCard();
                    break;
                case "ArrowLeft":
                    prevCard();
                    break;
                case " ":
                case "Enter":
                    // Verhindert Scrollen bei Leertaste
                    e.preventDefault(); 
                    flipCard();
                    break;
                case "Home":
                    resetToStart();
                    break;
            }
        });

        // Starten
        init();

    </script>
</body>
</html>